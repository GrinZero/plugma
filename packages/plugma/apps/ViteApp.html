<style rel="stylesheet" crossorigin>#plugma-status.svelte-1u060h1{display:flex;position:absolute;top:0;bottom:0;right:0;left:0;background-color:var(--figma-color-bg-brand-tertiary);border:1px solid var(--figma-color-border);padding:8px;border-radius:4px;margin:16px;color:var(--figma-color-text);font-family:Inter,system-ui,Helvetica,Arial,sans-serif;font-display:optional;font-size:68.75%;box-sizing:border-box;justify-content:center;align-items:center}.server-not-active.svelte-1u060h1{display:flex;gap:4px;align-items:center}
</style>
<script type="module" crossorigin>var te=Object.defineProperty;var ne=(e,t,n)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var k=(e,t,n)=>ne(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function v(){}function j(e){return e()}function V(){return Object.create(null)}function O(e){e.forEach(j)}function B(e){return typeof e=="function"}function J(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function re(e){return Object.keys(e).length===0}function W(e,t,n){e.insertBefore(t,n||null)}function T(e){e.parentNode&&e.parentNode.removeChild(e)}function oe(e){return document.createElement(e)}function se(e){return document.createTextNode(e)}function ie(){return se("")}function D(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ce(e){return Array.from(e.childNodes)}let C;function E(e){C=e}function ae(){if(!C)throw new Error("Function called outside component initialization");return C}function le(e){ae().$$.on_mount.push(e)}const $=[],K=[];let S=[];const R=[],H=Promise.resolve();let b=!1;function Z(){b||(b=!0,H.then(q))}function A(){return Z(),H}function P(e){S.push(e)}const I=new Set;let w=0;function q(){if(w!==0)return;const e=C;do{try{for(;w<$.length;){const t=$[w];w++,E(t),fe(t.$$)}}catch(t){throw $.length=0,w=0,t}for(E(null),$.length=0,w=0;K.length;)K.pop()();for(let t=0;t<S.length;t+=1){const n=S[t];I.has(n)||(I.add(n),n())}S.length=0}while($.length);for(;R.length;)R.pop()();b=!1,I.clear(),E(e)}function fe(e){if(e.fragment!==null){e.update(),O(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(P)}}function ue(e){const t=[],n=[];S.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),S=t}const N=new Set;let y;function de(){y={r:0,c:[],p:y}}function pe(){y.r||O(y.c),y=y.p}function x(e,t){e&&e.i&&(N.delete(e),e.i(t))}function F(e,t,n,r){if(e&&e.o){if(N.has(e))return;N.add(e),y.c.push(()=>{N.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function me(e){e&&e.c()}function Y(e,t,n){const{fragment:r,after_update:o}=e.$$;r&&r.m(t,n),P(()=>{const s=e.$$.on_mount.map(j).filter(B);e.$$.on_destroy?e.$$.on_destroy.push(...s):O(s),e.$$.on_mount=[]}),o.forEach(P)}function z(e,t){const n=e.$$;n.fragment!==null&&(ue(n.after_update),O(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ge(e,t){e.$$.dirty[0]===-1&&($.push(e),Z(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function X(e,t,n,r,o,s,i=null,u=[-1]){const d=C;E(e);const c=e.$$={fragment:null,ctx:[],props:s,update:v,not_equal:o,bound:V(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:V(),dirty:u,skip_bound:!1,root:t.target||d.$$.root};i&&i(c.root);let M=!1;if(c.ctx=n?n(e,t.props||{},(l,f,...g)=>{const a=g.length?g[0]:f;return c.ctx&&o(c.ctx[l],c.ctx[l]=a)&&(!c.skip_bound&&c.bound[l]&&c.bound[l](a),M&&ge(e,l)),f}):[],c.update(),M=!0,O(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const l=ce(t.target);c.fragment&&c.fragment.l(l),l.forEach(T)}else c.fragment&&c.fragment.c();t.intro&&x(e.$$.fragment),Y(e,t.target,t.anchor),q()}E(d)}class Q{constructor(){k(this,"$$");k(this,"$$set")}$destroy(){z(this,1),this.$destroy=v}$on(t,n){if(!B(n))return v;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(t){this.$$set&&!re(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const he="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(he);let ye=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");function _e(e,t,n){let r=1e3,o=!0;async function s(){const i=document.getElementById("app");try{const u=await fetch(e);u.ok&&!o?(o=!0,i&&(i.style.display="block"),await A(),n(o)):!u.ok&&o&&(o=!1,i.style.display="none",await A(),n(o))}catch{o&&(o=!1,i&&(i.style.display="none"),await A(),n(o))}}n(o),s(),setInterval(s,r)}function we(e){let t;return{c(){t=oe("div"),t.innerHTML='<div class="server-not-active svelte-1u060h1"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.3463 8.16209C15.633 7.65235 16.3669 7.65235 16.6536 8.16209L24.3713 21.8823C24.6525 22.3822 24.2912 23 23.7176 23H8.28234C7.70872 23 7.34744 22.3822 7.62866 21.8823L15.3463 8.16209ZM16 12.3817C16.497 12.3817 16.9 12.7847 16.9 13.2817V16.3695C16.9 16.8666 16.497 17.2695 16 17.2695C15.5029 17.2695 15.1 16.8666 15.1 16.3695V13.2817C15.1 12.7847 15.5029 12.3817 16 12.3817ZM17.1 20C17.1 19.3925 16.6075 18.9 16 18.9C15.3924 18.9 14.9 19.3925 14.9 20V20.0685C14.9 20.6761 15.3924 21.1685 16 21.1685C16.6075 21.1685 17.1 20.6761 17.1 20.0685V20Z" fill="currentColor" fill-opacity="0.8"></path></svg> <p>Dev server inactive</p></div>',D(t,"id","plugma-status"),D(t,"class","svelte-1u060h1")},m(n,r){W(n,t,r)},p:v,i:v,o:v,d(n){n&&T(t)}}}class $e extends Q{constructor(t){super(),X(this,t,null,we,J,{})}}function G(e){let t,n;return t=new $e({}),{c(){me(t.$$.fragment)},m(r,o){Y(t,r,o),n=!0},i(r){n||(x(t.$$.fragment,r),n=!0)},o(r){F(t.$$.fragment,r),n=!1},d(r){z(t,r)}}}function ve(e){let t,n,r=!e[0]&&!(e[1]||e[2])&&G();return{c(){r&&r.c(),t=ie()},m(o,s){r&&r.m(o,s),W(o,t,s),n=!0},p(o,[s]){!o[0]&&!(o[1]||o[2])?r?s&1&&x(r,1):(r=G(),r.c(),x(r,1),r.m(t.parentNode,t)):r&&(de(),F(r,1,1,()=>{r=null}),pe())},i(o){n||(x(r),n=!0)},o(o){F(r),n=!1},d(o){o&&T(t),r&&r.d(o)}}}function Se(e,t){const n=()=>new Promise((o,s)=>{let u=0;const d=setInterval(()=>{e.readyState===WebSocket.OPEN?(clearInterval(d),o()):u>=10&&(clearInterval(d),s(new Error("WebSocket connection failed to open."))),u++},100)});(async()=>{try{e.readyState!==WebSocket.OPEN&&await n(),console.log("---- sending message.....",t),e.send(JSON.stringify(t))}catch(o){console.error("Failed to send message:",o)}})()}function Ee(){let e={pluginMessage:{type:"GET_FIGMA_CLASSES_AND_STYLES"},pluginId:"*"};parent.postMessage(e,"*")}function xe(){document.addEventListener("keydown",e=>{e.keyCode===80&&!e.shiftKey&&e.altKey&&!e.ctrlKey&&e.metaKey?(window.parent.postMessage("$INTERNAL_DO_NOT_USE$RERUN_PLUGIN$","*"),e.stopPropagation(),e.stopImmediatePropagation()):e.metaKey&&(e.keyCode===65?document.execCommand("selectAll"):e.keyCode===90?e.shiftKey?document.execCommand("redo"):document.execCommand("undo"):(e.key==="x"||e.key,e.key==="c"||e.key,e.key==="v"||e.key))},!0)}function Ce(e,t,n){const r=document.querySelector("html"),o=window.self!==window.top,s=typeof figma<"u";let i=new WebSocket("ws://localhost:9001/ws"),u=`http://localhost:${window.runtimeData.port}`;function d(){const f=g=>{const a=g.data.pluginMessage;if(a.type==="FIGMA_HTML_CLASSES"&&(r.className=a.data),a.type==="FIGMA_STYLES"){const _=document.createElement("style");_.type="text/css",_.innerText=a.data,document.head.appendChild(_)}};window.addEventListener("message",f)}function c(){if(!(o||s)){let L=function(p){_.forEach(m=>{try{m(p)}catch(h){console.error("Error in message listener:",h)}})};var f=L;let g=window.addEventListener,a=null,_=[];window.addEventListener=function(p,m,h){p==="message"?_.push(m):g.call(window,p,m,h)},i.onmessage=p=>{const m=JSON.parse(p.data),h={data:JSON.parse(m)};L(h)},Object.defineProperty(window,"onmessage",{get(){return a},set(p){a=p,i.onmessage=m=>{const h=JSON.parse(m.data),U={data:JSON.parse(h)};a&&a(U),L(U)}}})}}function M(){o||s||(window.postMessage=function(f,g,a){return ye(),console.log("POST MESSAGE",f),Se(i,f),null})}xe(),M(),c(),d(),i.onopen=()=>{console.log("get figma styles"),Ee()};let l=!0;return le(async()=>{parent.postMessage({pluginMessage:{type:"VITE_APP_MOUNTED"},pluginId:"*"},"*")}),_e(u,null,f=>{n(0,l=f)}),[l,o,s]}class Oe extends Q{constructor(t){super(),X(this,t,Ce,ve,J,{})}}const ee="ViteApp";console.log(`Loading app from path: ${ee}`);new Oe({target:document.getElementById(ee)});
</script>
<div id="ViteApp"></div>