<style rel="stylesheet" crossorigin>#plugma-status.svelte-6gjzcx{display:flex;position:absolute;top:0;bottom:0;right:0;left:0;background-color:var(--figma-color-bg-brand-tertiary);border:1px solid var(--figma-color-border);padding:8px;border-radius:4px;margin:16px;color:var(--figma-color-text);font-family:Inter,system-ui,Helvetica,Arial,sans-serif;font-display:optional;font-size:12px;box-sizing:border-box;justify-content:center;align-items:center}.server-not-active.svelte-6gjzcx{display:flex;gap:4px;align-items:center}#vite-app-host.svelte-1e6i4lu{width:100%;height:100vh;border:none}
</style>
<script type="module" crossorigin>var Oe=Object.defineProperty;var Ce=(t,e,n)=>e in t?Oe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var D=(t,e,n)=>Ce(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();function v(){}function ue(t){return t()}function K(){return Object.create(null)}function M(t){t.forEach(ue)}function ae(t){return typeof t=="function"}function fe(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Le(t){return Object.keys(t).length===0}function j(t,e,n){t.insertBefore(e,n||null)}function C(t){t.parentNode&&t.parentNode.removeChild(t)}function de(t){return document.createElement(t)}function he(t){return document.createTextNode(t)}function Te(){return he(" ")}function xe(){return he("")}function L(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $e(t){return Array.from(t.childNodes)}let $;function T(t){$=t}function Ae(){if(!$)throw new Error("Function called outside component initialization");return $}function Me(t){Ae().$$.on_mount.push(t)}const w=[],U=[];let E=[];const X=[],pe=Promise.resolve();let Y=!1;function ge(){Y||(Y=!0,pe.then(me))}function W(){return ge(),pe}function H(t){E.push(t)}const F=new Set;let b=0;function me(){if(b!==0)return;const t=$;do{try{for(;b<w.length;){const e=w[b];b++,T(e),Ne(e.$$)}}catch(e){throw w.length=0,b=0,e}for(T(null),w.length=0,b=0;U.length;)U.pop()();for(let e=0;e<E.length;e+=1){const n=E[e];F.has(n)||(F.add(n),n())}E.length=0}while(w.length);for(;X.length;)X.pop()();Y=!1,F.clear(),T(t)}function Ne(t){if(t.fragment!==null){t.update(),M(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}function Ie(t){const e=[],n=[];E.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),E=e}const R=new Set;let y;function Pe(){y={r:0,c:[],p:y}}function ke(){y.r||M(y.c),y=y.p}function x(t,e){t&&t.i&&(R.delete(t),t.i(e))}function q(t,e,n,r){if(t&&t.o){if(R.has(t))return;R.add(t),y.c.push(()=>{R.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function je(t){t&&t.c()}function _e(t,e,n){const{fragment:r,after_update:o}=t.$$;r&&r.m(e,n),H(()=>{const s=t.$$.on_mount.map(ue).filter(ae);t.$$.on_destroy?t.$$.on_destroy.push(...s):M(s),t.$$.on_mount=[]}),o.forEach(H)}function ye(t,e){const n=t.$$;n.fragment!==null&&(Ie(n.after_update),M(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Re(t,e){t.$$.dirty[0]===-1&&(w.push(t),ge(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function be(t,e,n,r,o,s,i=null,a=[-1]){const u=$;T(t);const f=t.$$={fragment:null,ctx:[],props:s,update:v,not_equal:o,bound:K(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:K(),dirty:a,skip_bound:!1,root:e.target||u.$$.root};i&&i(f.root);let l=!1;if(f.ctx=n?n(t,e.props||{},(c,d,...p)=>{const g=p.length?p[0]:d;return f.ctx&&o(f.ctx[c],f.ctx[c]=g)&&(!f.skip_bound&&f.bound[c]&&f.bound[c](g),l&&Re(t,c)),d}):[],f.update(),l=!0,M(f.before_update),f.fragment=r?r(f.ctx):!1,e.target){if(e.hydrate){const c=$e(e.target);f.fragment&&f.fragment.l(c),c.forEach(C)}else f.fragment&&f.fragment.c();e.intro&&x(t.$$.fragment),_e(t,e.target,e.anchor),me()}T(u)}class we{constructor(){D(this,"$$");D(this,"$$set")}$destroy(){ye(this,1),this.$destroy=v}$on(e,n){if(!ae(n))return v;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!Le(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Be="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Be);function De(t){let e;return{c(){e=de("div"),e.innerHTML='<div class="server-not-active svelte-6gjzcx"><svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M15.3463 8.16209C15.633 7.65235 16.3669 7.65235 16.6536 8.16209L24.3713 21.8823C24.6525 22.3822 24.2912 23 23.7176 23H8.28234C7.70872 23 7.34744 22.3822 7.62866 21.8823L15.3463 8.16209ZM16 12.3817C16.497 12.3817 16.9 12.7847 16.9 13.2817V16.3695C16.9 16.8666 16.497 17.2695 16 17.2695C15.5029 17.2695 15.1 16.8666 15.1 16.3695V13.2817C15.1 12.7847 15.5029 12.3817 16 12.3817ZM17.1 20C17.1 19.3925 16.6075 18.9 16 18.9C15.3924 18.9 14.9 19.3925 14.9 20V20.0685C14.9 20.6761 15.3924 21.1685 16 21.1685C16.6075 21.1685 17.1 20.6761 17.1 20.0685V20Z" fill="currentColor" fill-opacity="0.8"></path></svg> <p>Dev server inactive</p></div>',L(e,"id","plugma-status"),L(e,"class","svelte-6gjzcx")},m(n,r){j(n,e,r)},p:v,i:v,o:v,d(n){n&&C(e)}}}class We extends we{constructor(e){super(),be(this,e,null,De,fe,{})}}function Fe(t,e,n){let r=1e3,o=!0;async function s(){const i=document.getElementById("app");try{const a=await fetch(t);a.ok&&!o?(o=!0,i&&(i.style.display="block"),await W(),n(o)):!a.ok&&o&&(o=!1,i.style.display="none",await W(),n(o))}catch{o&&(o=!1,i&&(i.style.display="none"),await W(),n(o))}}n(o),s(),setInterval(s,r)}function Ge(){document.body.style.padding="0",document.body.style.margin="0",document.body.style.color="var(--figma-color-text)",document.body.style.fontFamily="Inter, system-ui, Helvetica, Arial, sans-serif",document.body.style.fontSize="16px"}const G=10,ee=(t=0)=>e=>`\x1B[${e+t}m`,te=(t=0)=>e=>`\x1B[${38+t};5;${e}m`,ne=(t=0)=>(e,n,r)=>`\x1B[${38+t};2;${e};${n};${r}m`,h={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(h.modifier);const Ue=Object.keys(h.color),Ye=Object.keys(h.bgColor);[...Ue,...Ye];function He(){const t=new Map;for(const[e,n]of Object.entries(h)){for(const[r,o]of Object.entries(n))h[r]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},n[r]=h[r],t.set(o[0],o[1]);Object.defineProperty(h,e,{value:n,enumerable:!1})}return Object.defineProperty(h,"codes",{value:t,enumerable:!1}),h.color.close="\x1B[39m",h.bgColor.close="\x1B[49m",h.color.ansi=ee(),h.color.ansi256=te(),h.color.ansi16m=ne(),h.bgColor.ansi=ee(G),h.bgColor.ansi256=te(G),h.bgColor.ansi16m=ne(G),Object.defineProperties(h,{rgbToAnsi256:{value(e,n,r){return e===n&&n===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},enumerable:!1},hexToRgb:{value(e){const n=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!n)return[0,0,0];let[r]=n;r.length===3&&(r=[...r].map(s=>s+s).join(""));const o=Number.parseInt(r,16);return[o>>16&255,o>>8&255,o&255]},enumerable:!1},hexToAnsi256:{value:e=>h.rgbToAnsi256(...h.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return 90+(e-8);let n,r,o;if(e>=232)n=((e-232)*10+8)/255,r=n,o=n;else{e-=16;const a=e%36;n=Math.floor(e/36)/5,r=Math.floor(a/6)/5,o=a%6/5}const s=Math.max(n,r,o)*2;if(s===0)return 30;let i=30+(Math.round(o)<<2|Math.round(r)<<1|Math.round(n));return s===2&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(e,n,r)=>h.ansi256ToAnsi(h.rgbToAnsi256(e,n,r)),enumerable:!1},hexToAnsi:{value:e=>h.ansi256ToAnsi(h.hexToAnsi256(e)),enumerable:!1}}),h}const m=He(),P=(()=>{if(navigator.userAgentData){const t=navigator.userAgentData.brands.find(({brand:e})=>e==="Chromium");if(t&&t.version>93)return 3}return/\b(Chrome|Chromium)\//.test(navigator.userAgent)?1:0})(),re=P!==0&&{level:P,hasBasic:!0,has256:P>=2,has16m:P>=3},qe={stdout:re,stderr:re};function Ve(t,e,n){let r=t.indexOf(e);if(r===-1)return t;const o=e.length;let s=0,i="";do i+=t.slice(s,r)+e+n,s=r+o,r=t.indexOf(e,s);while(r!==-1);return i+=t.slice(s),i}function Qe(t,e,n,r){let o=0,s="";do{const i=t[r-1]==="\r";s+=t.slice(o,i?r-1:r)+e+(i?`\r
`:`
`)+n,o=r+1,r=t.indexOf(`
`,o)}while(r!==-1);return s+=t.slice(o),s}const{stdout:oe,stderr:se}=qe,V=Symbol("GENERATOR"),S=Symbol("STYLER"),A=Symbol("IS_EMPTY"),ie=["ansi","ansi","ansi256","ansi16m"],O=Object.create(null),ze=(t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const n=oe?oe.level:0;t.level=e.level===void 0?n:e.level},Je=t=>{const e=(...n)=>n.join(" ");return ze(e,t),Object.setPrototypeOf(e,N.prototype),e};function N(t){return Je(t)}Object.setPrototypeOf(N.prototype,Function.prototype);for(const[t,e]of Object.entries(m))O[t]={get(){const n=B(this,z(e.open,e.close,this[S]),this[A]);return Object.defineProperty(this,t,{value:n}),n}};O.visible={get(){const t=B(this,this[S],!0);return Object.defineProperty(this,"visible",{value:t}),t}};const Q=(t,e,n,...r)=>t==="rgb"?e==="ansi16m"?m[n].ansi16m(...r):e==="ansi256"?m[n].ansi256(m.rgbToAnsi256(...r)):m[n].ansi(m.rgbToAnsi(...r)):t==="hex"?Q("rgb",e,n,...m.hexToRgb(...r)):m[n][t](...r),Ze=["rgb","hex","ansi256"];for(const t of Ze){O[t]={get(){const{level:n}=this;return function(...r){const o=z(Q(t,ie[n],"color",...r),m.color.close,this[S]);return B(this,o,this[A])}}};const e="bg"+t[0].toUpperCase()+t.slice(1);O[e]={get(){const{level:n}=this;return function(...r){const o=z(Q(t,ie[n],"bgColor",...r),m.bgColor.close,this[S]);return B(this,o,this[A])}}}}const Ke=Object.defineProperties(()=>{},{...O,level:{enumerable:!0,get(){return this[V].level},set(t){this[V].level=t}}}),z=(t,e,n)=>{let r,o;return n===void 0?(r=t,o=e):(r=n.openAll+t,o=e+n.closeAll),{open:t,close:e,openAll:r,closeAll:o,parent:n}},B=(t,e,n)=>{const r=(...o)=>Xe(r,o.length===1?""+o[0]:o.join(" "));return Object.setPrototypeOf(r,Ke),r[V]=t,r[S]=e,r[A]=n,r},Xe=(t,e)=>{if(t.level<=0||!e)return t[A]?"":e;let n=t[S];if(n===void 0)return e;const{openAll:r,closeAll:o}=n;if(e.includes("\x1B"))for(;n!==void 0;)e=Ve(e,n.close,n.open),n=n.parent;const s=e.indexOf(`
`);return s!==-1&&(e=Qe(e,o,r,s)),r+e+o};Object.defineProperties(N.prototype,O);const k=N();N({level:se?se.level:0});class ve{constructor(e={}){this.options={defaultIndentLevel:0,showTimestamp:!1,timestampFormat:"YYYY-MM-DD HH:mm:ss",debug:!1,...e},this.isProd=!0,this.currentIndent=this.options.defaultIndentLevel,this.currentType=null,this.forceLog=!1}format(e={}){return this.currentIndent=e.indent||this.options.defaultIndentLevel,this}log(e,n=null,r=!1){if(!this.options.debug&&this.isProd&&!r)return;const s=[this.formatLog(e[0],this.currentIndent,n),...e.slice(1)];if(this.options.showTimestamp){const i=new Date().toISOString();console.log(`[${i}]`,...s)}else console.log(...s)}text(...e){return this.log(e,null,!0),this}info(...e){return this.log(e,"info"),this}success(...e){return this.log(e,"success"),this}error(...e){return this.log(e,"error",!0),this}warning(...e){return this.log(e,"warning",!0),this}formatLog(e,n=0,r){const o=" ".repeat(n*2),s=this.getPrefix(r);return`${o}${s}${e}`}getPrefix(e){switch(e){case"info":return k.blue.bold("INFO: ");case"success":return k.green.bold("SUCCESS: ");case"error":return k.red.bold("ERROR: ");case"warning":return k.yellow.bold("WARNING: ");default:return""}}}const et=new ve({debug:window.runtimeData.debug});async function tt(t,e){return new Promise((n,r)=>{t.src=new URL(e).href;function o(){et.info(`Iframe successfully redirected to: ${t.src}`),n("Iframe successfully redirected"),t.removeEventListener("load",o)}t.addEventListener("load",o),setTimeout(()=>{r(new Error("Iframe redirection timeout or failed"))},5e3)})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var J=function(t,e){return J=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)r.hasOwnProperty(o)&&(n[o]=r[o])},J(t,e)};function Ee(t,e){J(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function nt(t){var e=typeof Symbol=="function"&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function rt(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,s=[],i;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)s.push(o.value)}catch(a){i={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return s}function ot(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(rt(arguments[e]));return t}var Se=function(){function t(e,n){this.target=n,this.type=e}return t}(),st=function(t){Ee(e,t);function e(n,r){var o=t.call(this,"error",r)||this;return o.message=n.message,o.error=n,o}return e}(Se),it=function(t){Ee(e,t);function e(n,r,o){n===void 0&&(n=1e3),r===void 0&&(r="");var s=t.call(this,"close",o)||this;return s.wasClean=!0,s.code=n,s.reason=r,s}return e}(Se);/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */var lt=function(){if(typeof WebSocket<"u")return WebSocket},ct=function(t){return typeof t<"u"&&!!t&&t.CLOSING===2},_={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0,startClosed:!1,debug:!1},ut=function(){function t(e,n,r){var o=this;r===void 0&&(r={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(s){o._debug("open event");var i=o._options.minUptime,a=i===void 0?_.minUptime:i;clearTimeout(o._connectTimeout),o._uptimeTimeout=setTimeout(function(){return o._acceptOpen()},a),o._ws.binaryType=o._binaryType,o._messageQueue.forEach(function(u){return o._ws.send(u)}),o._messageQueue=[],o.onopen&&o.onopen(s),o._listeners.open.forEach(function(u){return o._callEventListener(s,u)})},this._handleMessage=function(s){o._debug("message event"),o.onmessage&&o.onmessage(s),o._listeners.message.forEach(function(i){return o._callEventListener(s,i)})},this._handleError=function(s){o._debug("error event",s.message),o._disconnect(void 0,s.message==="TIMEOUT"?"timeout":void 0),o.onerror&&o.onerror(s),o._debug("exec error listeners"),o._listeners.error.forEach(function(i){return o._callEventListener(s,i)}),o._connect()},this._handleClose=function(s){o._debug("close event"),o._clearTimeouts(),o._shouldReconnect&&o._connect(),o.onclose&&o.onclose(s),o._listeners.close.forEach(function(i){return o._callEventListener(s,i)})},this._url=e,this._protocols=n,this._options=r,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(t,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(t,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(t,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CONNECTING",{get:function(){return t.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"OPEN",{get:function(){return t.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CLOSING",{get:function(){return t.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"CLOSED",{get:function(){return t.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(e){this._binaryType=e,this._ws&&(this._ws.binaryType=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bufferedAmount",{get:function(){var e=this._messageQueue.reduce(function(n,r){return typeof r=="string"?n+=r.length:r instanceof Blob?n+=r.size:n+=r.byteLength,n},0);return e+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?t.CLOSED:t.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),t.prototype.close=function(e,n){if(e===void 0&&(e=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(e,n)},t.prototype.reconnect=function(e,n){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(e,n),this._connect())},t.prototype.send=function(e){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",e),this._ws.send(e);else{var n=this._options.maxEnqueuedMessages,r=n===void 0?_.maxEnqueuedMessages:n;this._messageQueue.length<r&&(this._debug("enqueue",e),this._messageQueue.push(e))}},t.prototype.addEventListener=function(e,n){this._listeners[e]&&this._listeners[e].push(n)},t.prototype.dispatchEvent=function(e){var n,r,o=this._listeners[e.type];if(o)try{for(var s=nt(o),i=s.next();!i.done;i=s.next()){var a=i.value;this._callEventListener(e,a)}}catch(u){n={error:u}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return!0},t.prototype.removeEventListener=function(e,n){this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(function(r){return r!==n}))},t.prototype._debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._options.debug&&console.log.apply(console,ot(["RWS>"],e))},t.prototype._getNextDelay=function(){var e=this._options,n=e.reconnectionDelayGrowFactor,r=n===void 0?_.reconnectionDelayGrowFactor:n,o=e.minReconnectionDelay,s=o===void 0?_.minReconnectionDelay:o,i=e.maxReconnectionDelay,a=i===void 0?_.maxReconnectionDelay:i,u=0;return this._retryCount>0&&(u=s*Math.pow(r,this._retryCount-1),u>a&&(u=a)),this._debug("next delay",u),u},t.prototype._wait=function(){var e=this;return new Promise(function(n){setTimeout(n,e._getNextDelay())})},t.prototype._getNextUrl=function(e){if(typeof e=="string")return Promise.resolve(e);if(typeof e=="function"){var n=e();if(typeof n=="string")return Promise.resolve(n);if(n.then)return n}throw Error("Invalid URL")},t.prototype._connect=function(){var e=this;if(!(this._connectLock||!this._shouldReconnect)){this._connectLock=!0;var n=this._options,r=n.maxRetries,o=r===void 0?_.maxRetries:r,s=n.connectionTimeout,i=s===void 0?_.connectionTimeout:s,a=n.WebSocket,u=a===void 0?lt():a;if(this._retryCount>=o){this._debug("max retries reached",this._retryCount,">=",o);return}if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),!ct(u))throw Error("No valid WebSocket class provided");this._wait().then(function(){return e._getNextUrl(e._url)}).then(function(f){e._closeCalled||(e._debug("connect",{url:f,protocols:e._protocols}),e._ws=e._protocols?new u(f,e._protocols):new u(f),e._ws.binaryType=e._binaryType,e._connectLock=!1,e._addListeners(),e._connectTimeout=setTimeout(function(){return e._handleTimeout()},i))})}},t.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new st(Error("TIMEOUT"),this))},t.prototype._disconnect=function(e,n){if(e===void 0&&(e=1e3),this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(e,n),this._handleClose(new it(e,n,this))}catch{}}},t.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},t.prototype._callEventListener=function(e,n){"handleEvent"in n?n.handleEvent(e):n(e)},t.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},t.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},t.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},t}();const le=new ve({debug:window.runtimeData.debug});function at(t=null,e=!0){const n=[];let r=[];const o={send:l=>{console.warn("WebSocket is disabled, cannot send data:",l)},post:(l,c)=>{Array.isArray(l)?l.forEach(d=>s(d,c)):s(l,c)},on:(l,c)=>{Array.isArray(c)?c.forEach(d=>a(d,l)):a(c,l)},open:l=>{console.warn("WebSocket is disabled, cannot trigger open.")},close:()=>{console.warn("WebSocket is disabled, no connection to close.")},addEventListener:(l,c)=>{console.warn(`WebSocket is disabled, cannot add event listener for ${l}.`)},removeEventListener:(l,c)=>{console.warn(`WebSocket is disabled, cannot remove event listener for ${l}.`)},onmessage:null,onopen:null,onclose:null,onerror:null};function s(l,c){Array.isArray(c)?c.forEach(d=>i(d,l)):i(c,l)}function i(l,c){le.info(`--- ws post, ${l}`,c),l==="iframe"&&t&&t.contentWindow.postMessage?t.contentWindow.postMessage(c,"*"):l==="parent"&&window.parent?window.parent.postMessage(c,"*"):l==="ws"?u.readyState===WebSocket.OPEN?u.send(JSON.stringify(c)):(console.warn("WebSocket is not open, queuing message:",c),n.push({message:c,via:l})):console.warn(`Cannot send message via ${l}.`)}function a(l,c){l==="window"?window.addEventListener("message",c):l==="parent"&&window.parent?window.addEventListener("message",d=>{d.source===window.parent&&c(d)}):l==="ws"?u.addEventListener("message",d=>{try{const p=JSON.parse(JSON.parse(d.data)),g={...d,data:p};c(g)}catch(p){console.error("Failed to parse WebSocket message data:",p),c(d)}}):console.warn(`Cannot add message listener via ${l}.`)}if(!e||!("WebSocket"in window))return console.warn("WebSocket is disabled or not supported, using mock WebSocket."),o;let u=new ut("ws://localhost:9001/ws");u.post=(l,c=["ws"])=>{Array.isArray(l)?l.forEach(d=>s(d,c)):s(l,c)},u.on=(l,c=["ws"])=>{Array.isArray(c)?c.forEach(d=>a(d,l)):a(c,l)},u.open=l=>{r.push(l),u.readyState===WebSocket.OPEN&&l()};const f=()=>{for(r.forEach(l=>l());n.length>0;){const{message:l,via:c}=n.shift();s(l,c)}};return u.onopen=f,u.onmessage=l=>{le.info("--- ws received",l.data)},u.onclose=()=>{},u}function ce(t){let e,n;return e=new We({}),{c(){je(e.$$.fragment)},m(r,o){_e(e,r,o),n=!0},i(r){n||(x(e.$$.fragment,r),n=!0)},o(r){q(e.$$.fragment,r),n=!1},d(r){ye(e,r)}}}function ft(t){let e,n,r,o,s=!t[1]&&ce();return{c(){e=de("iframe"),n=Te(),s&&s.c(),r=xe(),L(e,"title",""),L(e,"id","vite-app-host"),L(e,"class","svelte-1e6i4lu")},m(i,a){j(i,e,a),t[2](e),j(i,n,a),s&&s.m(i,a),j(i,r,a),o=!0},p(i,[a]){i[1]?s&&(Pe(),q(s,1,1,()=>{s=null}),ke()):s?a&2&&x(s,1):(s=ce(),s.c(),x(s,1),s.m(r.parentNode,r))},i(i){o||(x(s),o=!0)},o(i){q(s),o=!1},d(i){i&&(C(e),C(n),C(r)),t[2](null),s&&s.d(i)}}}function dt(t){t.on(e=>{e.origin==="https://www.figma.com"?t.post(e.data,["iframe","ws"]):t.post(e.data,["parent"])},"window"),t.on(e=>{console.log("---- on ws",e.data),t.post(e.data,"parent")},"ws")}function ht(t,e,n){let r;const o=document.querySelector("html");let s=`http://localhost:${window.runtimeData.port}`,i=!0;function a(l){const c=document.getElementById("figma-style");l.on(d=>{if(d.data.pluginMessage.type==="GET_FIGMA_CLASSES_AND_STYLES"){const g=[{pluginMessage:{type:"FIGMA_HTML_CLASSES",data:o.className}},{pluginMessage:{type:"FIGMA_STYLES",data:c.innerHTML}}];l.post(g,["iframe","ws"])}},"ws")}function u(l){function c(g,I){l.post({pluginMessage:{type:g,data:I},pluginId:"*"},["iframe","ws"])}function d(g,I,Z){c(I,Z()),new MutationObserver(()=>{c(I,Z())}).observe(g,{attributes:!0,childList:!0,subtree:!0})}const p=document.getElementById("figma-style");d(o,"FIGMA_HTML_CLASSES",()=>o.className),d(p,"FIGMA_STYLES",()=>p.innerHTML)}Me(async()=>{let l=at(r);dt(l),Fe(s,r,c=>{n(1,i=c)}),Ge(),await tt(r,s),l.open(()=>{u(l),a(l)})});function f(l){U[l?"unshift":"push"](()=>{r=l,n(0,r)})}return[r,i,f]}class pt extends we{constructor(e){super(),be(this,e,ht,ft,fe,{})}}const gt="PluginWindow";new pt({target:document.getElementById(gt)});
</script>
<div id="PluginWindow"></div>